<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Amp\ByteStream\Message | Aventri Connect API</title>

            <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../../fonts/doctum-font.css">
        <script src="../../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../../js/bootstrap.min.js"></script>
        <script src="../../js/typeahead.min.js"></script>
        <script src="../../doctum.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    </head>

    <body id="class" data-name="class:Amp_ByteStream_Message" data-root-path="../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <form id="search-form" action="../../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../index.html">Aventri Connect API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../classes.html">Classes</a></li>
                    <li><a href="../../namespaces.html">Namespaces</a></li>
                    <li><a href="../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../traits.html">Traits</a></li>
                    <li><a href="../../doc-index.html">Index</a></li>
                    <li><a href="../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../Amp.html">Amp</a></li><li class="backslash">\</li><li><a href="../../Amp/ByteStream.html">ByteStream</a></li><li class="backslash">\</li><li>Message</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            Message
                <small><sup><span class="label label-danger">deprecated</span></sup></small>
        </h1>
    </div>

    <p>        class
    <strong>Message</strong>        implements
        <a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a>, <a href="../../Amp/Promise.html"><abbr title="Amp\Promise">Promise</abbr></a>
</p>

        
            <p>
                <small><sup><span class="label label-danger">deprecated</span></sup></small>
                            <tr>
                    <td></td>
                    <td>Use Amp\ByteStream\Payload instead.</td>
                </tr>
                    </p>
    

            <div class="description">
            <p>Creates a buffered message from an InputStream. The message can be consumed in chunks using the read() API or it may
be buffered and accessed in its entirety by waiting for the promise to resolve.</p>            <p>Other implementations may extend this class to add custom properties such as a <code>isBinary()</code> flag for WebSocket
messages.</p>

<p>Buffering Example:</p>

<p>$stream = new Message($inputStream);
$content = yield $stream;</p>

<p>Streaming Example:</p>

<p>$stream = new Message($inputStream);</p>

<p>while (($chunk = yield $stream->read()) !== null) {
    // Immediately use $chunk, reducing memory consumption since the entire message is never buffered.
}</p>                    </div>
    
    
    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___construct">__construct</a>(<a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a> $source)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../Amp/Promise.html"><abbr title="Amp\Promise">Promise</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_read">read</a>()
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_onResolve">onResolve</a>(callable $onResolved)
        
                                            <p class="no-description">No description</p>
                                    </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getInputStream">getInputStream</a>()
        
                                            <p>Exposes the source input stream.</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at line 62</div>
        <code>                    
    <strong>__construct</strong>(<a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a> $source)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a></td>
                <td>$source</td>
                <td>An iterator that only emits strings.</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_read">
        <div class="location">at line 100</div>
        <code>final                    <a href="../../Amp/Promise.html"><abbr title="Amp\Promise">Promise</abbr></a>
    <strong>read</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../Amp/Promise.html"><abbr title="Amp\Promise">Promise</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_onResolve">
        <div class="location">at line 147</div>
        <code>final                    void
    <strong>onResolve</strong>(callable $onResolved)
        </code>
    </h3>
    <div class="details">
            
    

                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>callable</td>
                <td>$onResolved</td>
                <td>The first argument shall be <code>null</code> on success, while the second shall be <code>null</code> on
failure.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getInputStream">
        <div class="location">at line 172</div>
        <code>final                    <a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a>
    <strong>getInputStream</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Exposes the source input stream.</p>                    <p>This might be required to resolve a promise with an InputStream, because promises in Amp can't be resolved with
other promises.</p>                            </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../Amp/ByteStream/InputStream.html"><abbr title="Amp\ByteStream\InputStream">InputStream</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</div></div>
    </div>
    </body>

</html>
